aW1wb3J0IG9zCmZyb20gcmUgaW1wb3J0IGZpbmRhbGwKZnJvbSBqc29uIGltcG9ydCBsb2Fkcywg
ZHVtcHMKZnJvbSBiYXNlNjQgaW1wb3J0IGI2NGRlY29kZQpmcm9tIHN1YnByb2Nlc3MgaW1wb3J0
IFBvcGVuLCBQSVBFCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IFJlcXVlc3QsIHVybG9wZW4K
ZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSB0aHJlYWRpbmcgaW1wb3J0IFRocmVh
ZApmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gc3lzIGltcG9ydCBhcmd2CkxPQ0FMID0gb3Mu
Z2V0ZW52KCJMT0NBTEFQUERBVEEiKQpST0FNSU5HID0gb3MuZ2V0ZW52KCJBUFBEQVRBIikKUEFU
SFMgPSB7CiAgICAiRGlzY29yZCIgICAgICAgICAgIDogUk9BTUlORyArICJcXERpc2NvcmQiLAog
ICAgIkRpc2NvcmQgQ2FuYXJ5IiAgICA6IFJPQU1JTkcgKyAiXFxkaXNjb3JkY2FuYXJ5IiwKICAg
ICJEaXNjb3JkIFBUQiIgICAgICAgOiBST0FNSU5HICsgIlxcZGlzY29yZHB0YiIsCiAgICAiR29v
Z2xlIENocm9tZSIgICAgIDogTE9DQUwgKyAiXFxHb29nbGVcXENocm9tZVxcVXNlciBEYXRhXFxE
ZWZhdWx0IiwKICAgICJPcGVyYSIgICAgICAgICAgICAgOiBST0FNSU5HICsgIlxcT3BlcmEgU29m
dHdhcmVcXE9wZXJhIFN0YWJsZSIsCiAgICAiQnJhdmUiICAgICAgICAgICAgIDogTE9DQUwgKyAi
XFxCcmF2ZVNvZnR3YXJlXFxCcmF2ZS1Ccm93c2VyXFxVc2VyIERhdGFcXERlZmF1bHQiLAogICAg
IllhbmRleCIgICAgICAgICAgICA6IExPQ0FMICsgIlxcWWFuZGV4XFxZYW5kZXhCcm93c2VyXFxV
c2VyIERhdGFcXERlZmF1bHQiCn0KZGVmIGdldGhlYWRlcnModG9rZW49Tm9uZSwgY29udGVudF90
eXBlPSJhcHBsaWNhdGlvbi9qc29uIik6CiAgICBoZWFkZXJzID0gewogICAgICAgICJDb250ZW50
LVR5cGUiOiBjb250ZW50X3R5cGUsCiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAg
KFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMTEgKEtIVE1MLCBsaWtlIEdlY2tv
KSBDaHJvbWUvMjMuMC4xMjcxLjY0IFNhZmFyaS81MzcuMTEiCiAgICB9CiAgICBpZiB0b2tlbjoK
ICAgICAgICBoZWFkZXJzLnVwZGF0ZSh7IkF1dGhvcml6YXRpb24iOiB0b2tlbn0pCiAgICByZXR1
cm4gaGVhZGVycwpkZWYgZ2V0dXNlcmRhdGEodG9rZW4pOgogICAgdHJ5OgogICAgICAgIHJldHVy
biBsb2Fkcyh1cmxvcGVuKFJlcXVlc3QoImh0dHBzOi8vZGlzY29yZGFwcC5jb20vYXBpL3Y2L3Vz
ZXJzL0BtZSIsIGhlYWRlcnM9Z2V0aGVhZGVycyh0b2tlbikpKS5yZWFkKCkuZGVjb2RlKCkpCiAg
ICBleGNlcHQ6CiAgICAgICAgcGFzcwpkZWYgZ2V0dG9rZW5zKHBhdGgpOgogICAgcGF0aCArPSAi
XFxMb2NhbCBTdG9yYWdlXFxsZXZlbGRiIgogICAgdG9rZW5zID0gW10KICAgIGZvciBmaWxlX25h
bWUgaW4gb3MubGlzdGRpcihwYXRoKToKICAgICAgICBpZiBub3QgZmlsZV9uYW1lLmVuZHN3aXRo
KCIubG9nIikgYW5kIG5vdCBmaWxlX25hbWUuZW5kc3dpdGgoIi5sZGIiKToKICAgICAgICAgICAg
Y29udGludWUKICAgICAgICBmb3IgbGluZSBpbiBbeC5zdHJpcCgpIGZvciB4IGluIG9wZW4oZiJ7
cGF0aH1cXHtmaWxlX25hbWV9IiwgZXJyb3JzPSJpZ25vcmUiKS5yZWFkbGluZXMoKSBpZiB4LnN0
cmlwKCldOgogICAgICAgICAgICBmb3IgcmVnZXggaW4gKHIiW1x3LV17MjR9XC5bXHctXXs2fVwu
W1x3LV17Mjd9IiwgciJtZmFcLltcdy1dezg0fSIpOgogICAgICAgICAgICAgICAgZm9yIHRva2Vu
IGluIGZpbmRhbGwocmVnZXgsIGxpbmUpOgogICAgICAgICAgICAgICAgICAgIHRva2Vucy5hcHBl
bmQodG9rZW4pCiAgICByZXR1cm4gdG9rZW5zCmRlZiBnZXRkZXZlbG9wZXIoKToKICAgIGRldiA9
ICJ3b2R4IgogICAgdHJ5OgogICAgICAgIGRldiA9IHVybG9wZW4oUmVxdWVzdCgiaHR0cHM6Ly9w
YXN0ZWJpbi5jb20vcmF3L3NzRnhpZWp2IikpLnJlYWQoKS5kZWNvZGUoKQogICAgZXhjZXB0Ogog
ICAgICAgIHBhc3MKICAgIHJldHVybiBkZXYKZGVmIGdldGlwKCk6CiAgICBpcCA9ICJOb25lIgog
ICAgdHJ5OgogICAgICAgIGlwID0gdXJsb3BlbihSZXF1ZXN0KCJodHRwczovL2FwaS5pcGlmeS5v
cmciKSkucmVhZCgpLmRlY29kZSgpLnN0cmlwKCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCiAg
ICByZXR1cm4gaXAKZGVmIGdldGF2YXRhcih1aWQsIGFpZCk6CiAgICB1cmwgPSBmImh0dHBzOi8v
Y2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMve3VpZH0ve2FpZH0uZ2lmIgogICAgdHJ5OgogICAg
ICAgIHVybG9wZW4oUmVxdWVzdCh1cmwpKQogICAgZXhjZXB0OgogICAgICAgIHVybCA9IHVybFs6
LTRdCiAgICByZXR1cm4gdXJsCmRlZiBnZXRod2lkKCk6CiAgICBwID0gUG9wZW4oIndtaWMgY3Nw
cm9kdWN0IGdldCB1dWlkIiwgc2hlbGw9VHJ1ZSwgc3RkaW49UElQRSwgc3Rkb3V0PVBJUEUsIHN0
ZGVycj1QSVBFKQogICAgcmV0dXJuIChwLnN0ZG91dC5yZWFkKCkgKyBwLnN0ZGVyci5yZWFkKCkp
LmRlY29kZSgpLnNwbGl0KCJcbiIpWzFdCmRlZiBnZXRmcmllbmRzKHRva2VuKToKICAgIHRyeToK
ICAgICAgICByZXR1cm4gbG9hZHModXJsb3BlbihSZXF1ZXN0KCJodHRwczovL2Rpc2NvcmRhcHAu
Y29tL2FwaS92Ni91c2Vycy9AbWUvcmVsYXRpb25zaGlwcyIsIGhlYWRlcnM9Z2V0aGVhZGVycyh0
b2tlbikpKS5yZWFkKCkuZGVjb2RlKCkpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwpkZWYgZ2V0
Y2hhdCh0b2tlbiwgdWlkKToKICAgIHRyeToKICAgICAgICByZXR1cm4gbG9hZHModXJsb3BlbihS
ZXF1ZXN0KCJodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUvY2hhbm5lbHMi
LCBoZWFkZXJzPWdldGhlYWRlcnModG9rZW4pLCBkYXRhPWR1bXBzKHsicmVjaXBpZW50X2lkIjog
dWlkfSkuZW5jb2RlKCkpKS5yZWFkKCkuZGVjb2RlKCkpWyJpZCJdCiAgICBleGNlcHQ6CiAgICAg
ICAgcGFzcwpkZWYgaGFzX3BheW1lbnRfbWV0aG9kcyh0b2tlbik6CiAgICB0cnk6CiAgICAgICAg
cmV0dXJuIGJvb2wobGVuKGxvYWRzKHVybG9wZW4oUmVxdWVzdCgiaHR0cHM6Ly9kaXNjb3JkYXBw
LmNvbS9hcGkvdjYvdXNlcnMvQG1lL2JpbGxpbmcvcGF5bWVudC1zb3VyY2VzIiwgaGVhZGVycz1n
ZXRoZWFkZXJzKHRva2VuKSkpLnJlYWQoKS5kZWNvZGUoKSkpID4gMCkKICAgIGV4Y2VwdDoKICAg
ICAgICBwYXNzCmRlZiBzZW5kX21lc3NhZ2UodG9rZW4sIGNoYXRfaWQsIGZvcm1fZGF0YSk6CiAg
ICB0cnk6CiAgICAgICAgdXJsb3BlbihSZXF1ZXN0KGYiaHR0cHM6Ly9kaXNjb3JkYXBwLmNvbS9h
cGkvdjYvY2hhbm5lbHMve2NoYXRfaWR9L21lc3NhZ2VzIiwgaGVhZGVycz1nZXRoZWFkZXJzKHRv
a2VuLCAibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9LS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tMzI1NDE0NTM3MDMwMzI5MzIwMTUxMzk0ODQzNjg3IiksIGRhdGE9Zm9ybV9kYXRhLmVu
Y29kZSgpKSkucmVhZCgpLmRlY29kZSgpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwpkZWYgc3By
ZWFkKHRva2VuLCBmb3JtX2RhdGEsIGRlbGF5KToKICAgIHJldHVybiAjIFJlbW92ZSB0byByZS1l
bmFibGVkCiAgICBmb3IgZnJpZW5kIGluIGdldGZyaWVuZHModG9rZW4pOgogICAgICAgIHRyeToK
ICAgICAgICAgICAgY2hhdF9pZCA9IGdldGNoYXQodG9rZW4sIGZyaWVuZFsiaWQiXSkKICAgICAg
ICAgICAgc2VuZF9tZXNzYWdlKHRva2VuLCBjaGF0X2lkLCBmb3JtX2RhdGEpCiAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwYXNzCiAgICAgICAgc2xlZXAoZGVsYXkp
CmRlZiBtYWluKCk6CiAgICBjYWNoZV9wYXRoID0gUk9BTUlORyArICJcXC5jYWNoZX4kIgogICAg
cHJldmVudF9zcGFtID0gVHJ1ZQogICAgc2VsZl9zcHJlYWQgPSBUcnVlCiAgICBlbWJlZHMgPSBb
XQogICAgd29ya2luZyA9IFtdCiAgICBjaGVja2VkID0gW10KICAgIGFscmVhZHlfY2FjaGVkX3Rv
a2VucyA9IFtdCiAgICB3b3JraW5nX2lkcyA9IFtdCiAgICBpcCA9IGdldGlwKCkKICAgIHBjX3Vz
ZXJuYW1lID0gb3MuZ2V0ZW52KCJVc2VyTmFtZSIpCiAgICBwY19uYW1lID0gb3MuZ2V0ZW52KCJD
T01QVVRFUk5BTUUiKQogICAgdXNlcl9wYXRoX25hbWUgPSBvcy5nZXRlbnYoInVzZXJwcm9maWxl
Iikuc3BsaXQoIlxcIilbMl0KICAgIGRldmVsb3BlciA9IGdldGRldmVsb3BlcigpCiAgICBmb3Ig
cGxhdGZvcm0sIHBhdGggaW4gUEFUSFMuaXRlbXMoKToKICAgICAgICBpZiBub3Qgb3MucGF0aC5l
eGlzdHMocGF0aCk6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZm9yIHRva2VuIGluIGdl
dHRva2VucyhwYXRoKToKICAgICAgICAgICAgaWYgdG9rZW4gaW4gY2hlY2tlZDoKICAgICAgICAg
ICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGNoZWNrZWQuYXBwZW5kKHRva2VuKQogICAgICAg
ICAgICB1aWQgPSBOb25lCiAgICAgICAgICAgIGlmIG5vdCB0b2tlbi5zdGFydHN3aXRoKCJtZmEu
Iik6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgdWlkID0gYjY0ZGVj
b2RlKHRva2VuLnNwbGl0KCIuIilbMF0uZW5jb2RlKCkpLmRlY29kZSgpCiAgICAgICAgICAgICAg
ICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgaWYgbm90
IHVpZCBvciB1aWQgaW4gd29ya2luZ19pZHM6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUK
ICAgICAgICAgICAgdXNlcl9kYXRhID0gZ2V0dXNlcmRhdGEodG9rZW4pCiAgICAgICAgICAgIGlm
IG5vdCB1c2VyX2RhdGE6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB3b3Jr
aW5nX2lkcy5hcHBlbmQodWlkKQogICAgICAgICAgICB3b3JraW5nLmFwcGVuZCh0b2tlbikKICAg
ICAgICAgICAgdXNlcm5hbWUgPSB1c2VyX2RhdGFbInVzZXJuYW1lIl0gKyAiIyIgKyBzdHIodXNl
cl9kYXRhWyJkaXNjcmltaW5hdG9yIl0pCiAgICAgICAgICAgIHVzZXJfaWQgPSB1c2VyX2RhdGFb
ImlkIl0KICAgICAgICAgICAgYXZhdGFyX2lkID0gdXNlcl9kYXRhWyJhdmF0YXIiXQogICAgICAg
ICAgICBhdmF0YXJfdXJsID0gZ2V0YXZhdGFyKHVzZXJfaWQsIGF2YXRhcl9pZCkKICAgICAgICAg
ICAgZW1haWwgPSB1c2VyX2RhdGEuZ2V0KCJlbWFpbCIpCiAgICAgICAgICAgIHBob25lID0gdXNl
cl9kYXRhLmdldCgicGhvbmUiKQogICAgICAgICAgICBuaXRybyA9IGJvb2wodXNlcl9kYXRhLmdl
dCgicHJlbWl1bV90eXBlIikpCiAgICAgICAgICAgIGJpbGxpbmcgPSBib29sKGhhc19wYXltZW50
X21ldGhvZHModG9rZW4pKQogICAgICAgICAgICBlbWJlZCA9IHsKICAgICAgICAgICAgICAgICJj
b2xvciI6IDB4NzI4OWRhLAogICAgICAgICAgICAgICAgImZpZWxkcyI6IFsKICAgICAgICAgICAg
ICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogIioqQWNjb3VudCBJbmZv
KioiLAogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiBmJ0VtYWlsOiB7ZW1haWx9XG5Q
aG9uZToge3Bob25lfVxuTml0cm86IHtuaXRyb31cbkJpbGxpbmcgSW5mbzoge2JpbGxpbmd9JywK
ICAgICAgICAgICAgICAgICAgICAgICAgImlubGluZSI6IFRydWUKICAgICAgICAgICAgICAgICAg
ICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUi
OiAiKipQQyBJbmZvKioiLAogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiBmJ0lQOiB7
aXB9XG5Vc2VybmFtZToge3BjX3VzZXJuYW1lfVxuUEMgTmFtZToge3BjX25hbWV9XG5Ub2tlbiBM
b2NhdGlvbjoge3BsYXRmb3JtfScsCiAgICAgICAgICAgICAgICAgICAgICAgICJpbmxpbmUiOiBU
cnVlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAg
ICAgICAgICAgICAgICAgICJuYW1lIjogIioqVG9rZW4qKiIsCiAgICAgICAgICAgICAgICAgICAg
ICAgICJ2YWx1ZSI6IHRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAiaW5saW5lIjogRmFs
c2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAg
ICAgImF1dGhvciI6IHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IGYie3VzZXJuYW1lfSAo
e3VzZXJfaWR9KSIsCiAgICAgICAgICAgICAgICAgICAgImljb25fdXJsIjogYXZhdGFyX3VybAog
ICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJmb290ZXIiOiB7CiAgICAgICAgICAg
ICAgICAgICAgInRleHQiOiBmIlRva2VuIEdyYWJiZXIgYnkgWFhCUiIsCiAgICAgICAgICAgICAg
ICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZW1iZWRzLmFwcGVuZChlbWJlZCkKICAgIHdp
dGggb3BlbihjYWNoZV9wYXRoLCAiYSIpIGFzIGZpbGU6CiAgICAgICAgZm9yIHRva2VuIGluIGNo
ZWNrZWQ6CiAgICAgICAgICAgIGlmIG5vdCB0b2tlbiBpbiBhbHJlYWR5X2NhY2hlZF90b2tlbnM6
CiAgICAgICAgICAgICAgICBmaWxlLndyaXRlKHRva2VuICsgIlxuIikKICAgIGlmIGxlbih3b3Jr
aW5nKSA9PSAwOgogICAgICAgIHdvcmtpbmcuYXBwZW5kKCcxMjMnKQogICAgd2ViaG9vayA9IHsK
ICAgICAgICAiY29udGVudCI6ICIiLAogICAgICAgICJlbWJlZHMiOiBlbWJlZHMsCiAgICAgICAg
InVzZXJuYW1lIjogIkRpc2NvcmQgVG9rZW4gR3JhYmJlciIsCiAgICAgICAgImF2YXRhcl91cmwi
OiAiaHR0cHM6Ly9kaXNjb3JkYXBwLmNvbS9hc3NldHMvNWNjYWJmNjIxMDhkNWE4MDc0ZGRkOTVh
ZjIyMTE3MjcucG5nIgogICAgfQogICAgdHJ5OgogICAgICAgIHVybG9wZW4oUmVxdWVzdCgiaHR0
cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvOTYwMjc4MjM2MDc0NTA0MjUzL1NITWRxUXpW
a2lXbWgxdFRXMHpQMy1FdEtKajVobUNsOU9uRTg4Y2Z2aFAzeUZPUWlXRFdQLUREeWh0X09TdmRH
anNFIiwgZGF0YT1kdW1wcyh3ZWJob29rKS5lbmNvZGUoKSwgaGVhZGVycz1nZXRoZWFkZXJzKCkp
KQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKICAgIGlmIHNlbGZfc3ByZWFkOgogICAgICAgIGZv
ciB0b2tlbiBpbiB3b3JraW5nOgogICAgICAgICAgICB3aXRoIG9wZW4oYXJndlswXSwgZW5jb2Rp
bmc9InV0Zi04IikgYXMgZmlsZToKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBmaWxlLnJlYWQo
KQogICAgICAgICAgICBwYXlsb2FkID0gZictLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTMy
NTQxNDUzNzAzMDMyOTMyMDE1MTM5NDg0MzY4N1xuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1k
YXRhOyBuYW1lPSJmaWxlIjsgZmlsZW5hbWU9IntfX2ZpbGVfX30iXG5Db250ZW50LVR5cGU6IHRl
eHQvcGxhaW5cblxue2NvbnRlbnR9XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTMyNTQx
NDUzNzAzMDMyOTMyMDE1MTM5NDg0MzY4N1xuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRh
OyBuYW1lPSJjb250ZW50IlxuXG5zZXJ2ZXIgY3Jhc2hlci4gcHl0aG9uIGRvd25sb2FkOiBodHRw
czovL3d3dy5weXRob24ub3JnL2Rvd25sb2Fkc1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0zMjU0MTQ1MzcwMzAzMjkzMjAxNTEzOTQ4NDM2ODdcbkNvbnRlbnQtRGlzcG9zaXRpb246IGZv
cm0tZGF0YTsgbmFtZT0idHRzIlxuXG5mYWxzZVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0zMjU0MTQ1MzcwMzAzMjkzMjAxNTEzOTQ4NDM2ODctLScKICAgICAgICAgICAgVGhyZWFkKHRh
cmdldD1zcHJlYWQsIGFyZ3M9KHRva2VuLCBwYXlsb2FkLCA3NTAwIC8gMTAwMCkpLnN0YXJ0KCkK
dHJ5OgogICAgbWFpbigpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgIHByaW50KGUpCiAgICBw
YXNzICAgICAgICAg
